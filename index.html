<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Math Maze</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Confetti canvas -->
  <canvas id="confetti" class="confetti"></canvas>

  <main class="app">
    <header class="topbar">
      <h1>Math Maze</h1>
      <div class="hud">
        <div>Moves: <span id="moves">0</span></div>
        <div>Correct: <span id="correct">0</span></div>
      </div>
    </header>

    <section class="boardWrap">
      <div id="board" class="board" aria-label="Maze board"></div>
    </section>

    <section class="mobileControls" aria-label="Mobile movement controls">
  <button class="mBtn" data-move="up">‚¨ÜÔ∏è</button>
  <div class="mRow">
    <button class="mBtn" data-move="left">‚¨ÖÔ∏è</button>
    <button class="mBtn" data-move="down">‚¨áÔ∏è</button>
    <button class="mBtn" data-move="right">‚û°Ô∏è</button>
  </div>
</section>

  </main>

  <!-- Start Screen -->
  <div id="startBackdrop" class="backdrop">
    <div class="modal">
      <h2>Welcome to Math Maze!</h2>
      <p class="feedback">Pick your character and type your name.</p>

      <!-- Rules box -->
      <div class="rulesBox">
        <div class="miniBtns">
          <span class="miniBtn">‚¨ÜÔ∏è</span>
          <span class="miniBtn">‚¨ÖÔ∏è</span>
          <span class="miniBtn">‚¨áÔ∏è</span>
          <span class="miniBtn">‚û°Ô∏è</span>
        </div>
        <ul>
          <li>Move with your keyboard arrow keys</li>
          <li>Answer the math question to move</li>
          <li>Reach the üèÅ finish tile to win</li>
        </ul>
      </div>

      <label class="label">Your name</label>
      <input id="nameInput" placeholder="e.g. Heidi" />

      <label class="label">Choose a player</label>
      <div id="avatarPicker" class="avatarPicker">
        <!-- buttons added by JS -->
      </div>

      <div class="modalActions">
        <button id="startGame" class="btn primary">Start!</button>
      </div>
    </div>
  </div>

  <!-- Math Modal -->
  <div id="modalBackdrop" class="backdrop hidden" role="dialog" aria-modal="true">
    <div class="modal">
      <h2 id="questionText">3 + 8 = ?</h2>

      <div class="answerRow">
        <input id="answerInput" inputmode="numeric" autocomplete="off" placeholder="Type answer" />
        <button id="submitAnswer" class="btn primary">OK</button>
      </div>

      <p id="feedback" class="feedback" aria-live="polite"></p>
      <div class="modalActions">
        <button id="cancelMove" class="btn subtle">Cancel move</button>
      </div>
    </div>
  </div>

  <div id="toast" class="toast hidden" aria-live="polite"></div>

  <script src="script.js"></script>
</body>
</html>
